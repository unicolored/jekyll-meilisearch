<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Jekyll Meilisearch Plugin | Jekyll ü©∑ Meilisearch</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Jekyll Meilisearch Plugin" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Plugin for Jekyll" />
<meta property="og:description" content="Plugin for Jekyll" />
<link rel="canonical" href="https://unicolo.red/jekyll-meilisearch/" />
<meta property="og:url" content="https://unicolo.red/jekyll-meilisearch/" />
<meta property="og:site_name" content="Jekyll ü©∑ Meilisearch" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Jekyll Meilisearch Plugin" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"Plugin for Jekyll","headline":"Jekyll Meilisearch Plugin","name":"Jekyll ü©∑ Meilisearch","url":"https://unicolo.red/jekyll-meilisearch/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://unicolo.red/jekyll-meilisearch/feed.xml" title="Jekyll ü©∑ Meilisearch" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Jekyll ü©∑ Meilisearch</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/">Jekyll Meilisearch Plugin</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Jekyll Meilisearch Plugin</h1>
  </header>

  <div class="post-content">
    <p>A Jekyll plugin that indexes your site‚Äôs content into Meilisearch, a fast and lightweight search engine. This plugin supports incremental indexing, ensuring efficient updates by only syncing changes between your Jekyll site and Meilisearch.</p>

<p><a href="https://badge.fury.io/rb/jekyll-meilisearch"><img src="https://badge.fury.io/rb/jekyll-meilisearch.svg" alt="Gem Version" /></a></p>

<h2 id="features">Features</h2>
<ul>
  <li>Indexes Jekyll collections (e.g., posts, pages) into Meilisearch.</li>
  <li>Incremental updates: adds new documents, deletes obsolete ones, and skips unchanged content.</li>
  <li>Configurable via _config.yml: customize fields, collections, and ID formats.</li>
  <li>Robust error handling with retries and fallback to full indexing if needed.</li>
  <li>Pagination support for large sites.</li>
</ul>

<h2 id="installation">Installation</h2>

<p>Add the gem to your Jekyll site‚Äôs Gemfile:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span> <span class="s2">"jekyll-meilisearch"</span>
</code></pre></div></div>

<p>And then add this line to your site‚Äôs <code class="language-plaintext highlighter-rouge">_config.yml</code>:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">plugins</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">jekyll-meilisearch</span>
</code></pre></div></div>

<h2 id="configuration">Configuration</h2>
<p>Add the following to your Jekyll _config.yml (or a separate config file like _config.prod.yml):</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">meilisearch</span><span class="pi">:</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">http://localhost:7700"</span>  <span class="c1"># Your Meilisearch instance URL</span>
    <span class="na">api_key</span><span class="pi">:</span> <span class="s2">"</span><span class="s">your-api-key"</span>       <span class="c1"># Meilisearch API key</span>
    <span class="na">index_name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">my_site"</span>         <span class="c1"># Optional: defaults to "jekyll_documents"</span>
    <span class="na">collections</span><span class="pi">:</span>
        <span class="na">posts</span><span class="pi">:</span>
          <span class="na">fields</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">title"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">content"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">url"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">date"</span><span class="pi">]</span>  <span class="c1"># Fields to index</span>
          <span class="na">id_format</span><span class="pi">:</span> <span class="s2">"</span><span class="s">default"</span>                         <span class="c1"># Optional: "default" or "path"</span>
        <span class="na">pages</span><span class="pi">:</span>
          <span class="na">fields</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">title"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">content"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">url"</span><span class="pi">]</span>
</code></pre></div></div>

<h2 id="configuration-options">Configuration Options</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">url</code>: The Meilisearch server URL (required).</li>
  <li><code class="language-plaintext highlighter-rouge">api_key</code>: The Meilisearch API key (required). Recommended: use a dedicated api key for your index, not the admin one.</li>
  <li><code class="language-plaintext highlighter-rouge">index_name</code>: The name of the Meilisearch index (optional, defaults to jekyll_documents).</li>
  <li><code class="language-plaintext highlighter-rouge">collections</code>: A hash of Jekyll collections to index.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">fields</code>: Array of fields to extract from each document (e.g., title, content, url, date).</li>
      <li><code class="language-plaintext highlighter-rouge">id_format</code>: How to generate document IDs:
        <ul>
          <li>
            <table>
              <tbody>
                <tr>
                  <td>‚Äúdefault‚Äù</td>
                  <td>‚Äúid‚Äù: Uses collection-name-number if a number field exists, otherwise sanitizes the document ID.</td>
                </tr>
              </tbody>
            </table>
          </li>
          <li>‚Äúurl‚Äù: Uses the document‚Äôs URL, sanitized.</li>
          <li>fallback: if ‚Äúnumber‚Äù exists, uses ‚Äúcollection_name‚Äù + ‚Äúnumber‚Äù</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Run your Jekyll build:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle <span class="nb">exec </span>jekyll build
</code></pre></div></div>

<p>Or with multiple config files:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle <span class="nb">exec </span>jekyll build <span class="nt">--config</span> _config.yml,_config.prod.yml
</code></pre></div></div>

<h2 id="usage">Usage</h2>
<p>Ensure Meilisearch is running and accessible at the configured url.
Configure your _config.yml with the necessary meilisearch settings.
Build your site. The plugin will:</p>
<ul>
  <li>Create the Meilisearch index if it doesn‚Äôt exist.</li>
  <li>Fetch existing documents from Meilisearch.</li>
  <li>Delete obsolete documents.</li>
  <li>Index new or updated documents.</li>
  <li>Logs will output to STDOUT with details about the indexing process.</li>
</ul>

<p>Include the following for adding search to your front :</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c">&lt;!-- Search Input --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"border m-6 mb-6 p-4"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"search"</span> <span class="na">class=</span><span class="s">"border p-2 w-full"</span> <span class="na">placeholder=</span><span class="s">"Rechercher..."</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"results"</span> <span class="na">class=</span><span class="s">"mt-2 border p-4"</span><span class="nt">&gt;</span>Results will appear here.<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="c">&lt;!-- Meilisearch JS SDK --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/meilisearch@0.40.0/dist/bundles/meilisearch.umd.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="kd">const</span> <span class="nx">meilisearchConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">host</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://localhost:7700</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">apiKey</span><span class="p">:</span> <span class="dl">""</span>
  <span class="p">};</span>
  <span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MeiliSearch</span><span class="p">(</span><span class="nx">meilisearchConfig</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nf">index</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>

  <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">search</span><span class="dl">'</span><span class="p">).</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">input</span><span class="dl">'</span><span class="p">,</span> <span class="k">async </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">query</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">query</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
      <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">results</span><span class="dl">'</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">results</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">index</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="nx">query</span><span class="p">);</span>
      <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">results</span><span class="dl">'</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">results</span><span class="p">.</span><span class="nx">hits</span>
        <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">hit</span> <span class="o">=&gt;</span> <span class="s2">`&lt;p&gt;&lt;a href="</span><span class="p">${</span><span class="nx">hit</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="s2">" class="text-blue-500 hover:underline"&gt;</span><span class="p">${</span><span class="nx">hit</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="s2">&lt;/a&gt;&lt;/p&gt;`</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Search error:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">results</span><span class="dl">'</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">&lt;p class="text-red-500"&gt;Search failed. Please try again.&lt;/p&gt;</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>

</code></pre></div></div>

<h2 id="skip-development">Skip development</h2>

<p>Use <code class="language-plaintext highlighter-rouge">disable_in_development: true</code> if you want to turn off meilisearch indexation when <code class="language-plaintext highlighter-rouge">jekyll.environment == "development"</code>,
but don‚Äôt want to remove the plugin (so you don‚Äôt accidentally commit the removal). Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">meilisearch</span><span class="pi">:</span>
  <span class="na">disable_in_development</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div>

<h2 id="contributing">Contributing</h2>

<ol>
  <li>Fork it (https://github.com/unicolored/jekyll-meilisearch/fork)</li>
  <li>Create your feature branch (<code class="language-plaintext highlighter-rouge">git checkout -b my-new-feature</code>)</li>
  <li>Commit your changes (<code class="language-plaintext highlighter-rouge">git commit -am 'Add some feature'</code>)</li>
  <li>Push to the branch (<code class="language-plaintext highlighter-rouge">git push origin my-new-feature</code>)</li>
  <li>Create a new Pull Request</li>
</ol>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Jekyll ü©∑ Meilisearch</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Jekyll ü©∑ Meilisearch</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/unicolored"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">unicolored</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Plugin for Jekyll</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
